\usepackage{xcolor}
\usepackage{listings}

\AtBeginDocument{
  \lstset{
    language=Python,
    basicstyle=\ttfamily\small,
    backgroundcolor=\color{lightgray!10},
    frame=single,
    rulecolor=\color{black},
    keywordstyle=\color{blue},
    commentstyle=\color{green!50!black},
    stringstyle=\color{teal},
    numberstyle=\tiny\color{gray},
    numbers=left,
    stepnumber=1,
    breaklines=true,
    showstringspaces=false
  }
}
